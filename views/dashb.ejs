<%- include("partials/header.ejs") %>


<link href="/css/dashb.css" rel="stylesheet" type="text/css">

<!-- CHARTS SETUP -->
<script type="text/javascript" src="/js/vensim/charts.js"></script>
<script type="text/javascript" src="/js/vensim/mdl.js"></script>
<script type="text/javascript" src="/js/vensim/vensim_wasm.js"></script>
<script>
    var mdlString = <%- JSON.stringify(mdlString) %>;
</script>
<script type="text/javascript" src="/js/vensim/variables.js"></script>

<%- include("partials/navbar.ejs") %>

<!-- SAVE MODAL -->
<div class="modal fade" id="runSaveModal" tabindex="-1" role="dialog" aria-labelledby="unSaveModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="unSaveModalLabel">Save Run</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">Ã—</span>
            </button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="runName" class="col-form-label">Please, choose the name of the run:</label>
                <input type="text" class="form-control" id="runName" placeholder="Run Name">
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" data-dismiss="modal" id="saveButton">Save</button>
        </div>
        </div>
    </div>
</div>



<div class="wrapper" id="mainContainer">

    <nav id="sideBar" class="compressed nav flex-column navbar-light bg-light">
        
        <div id="sidebarCollapse" class="sidebar-header btn btn-primary" type="button">
            <div class="hint"><img src="/img/icons/menu.svg" alt=""></div>
            <div class="compress">
                <div><h4 style="margin:0px;">Menu</h4></div>
                <div><img src="/img/icons/chevron-left.svg" alt=""></div>
            </div>
        </div>

        <!-- <div class="dropdown-divider"></div> -->
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link resetAll" type="button">
                    <!-- <i class="fas fa-fast-backward"></i> -->
                    <img src="/img/icons/reset.svg" alt="">
                    <span class="compress">Reset sliders</span>
                </a>
            </li>
            <% if (dashbDiagram) { %>
            <li class="nav-item">
                <a class="nav-link" type="button" data-toggle="collapse" data-target="#diagram" aria-expanded="false" aria-controls="diagram">
                    <!-- <i class="fas fa-project-diagram"></i> -->
                    <img src="/img/icons/eye.svg" alt="">
                    <span class="compress">Show diagram</span>
                </a>
            </li>
            <% } %>

            <li class="nav-item">
                <div class="dropright">
                    <a type="button" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <!-- <i class="fas fa-tachometer-alt"></i> -->
                        <img src="/img/icons/sliders.svg" alt="">
                        <span class="compress">Customize View</span> 
                    </a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item">Sliders</a>
                        <a class="dropdown-item">Charts</a>
                    </div>
                </div>
            </li>

            
            <li class="nav-item">
                <a class="nav-link" type="button" data-toggle="modal" data-target="#runSaveModal">
                    <!-- <i class="far fa-save"></i> -->
                    <img src="/img/icons/save.svg" alt="">
                    <span class="compress">Save run</span>
                </a>
            </li>
        </ul>
    </nav>

    <div id="contentDiv">

        <br>
        <div id="runTalk" class="jumbotron" style="margin-top:0;padding-top:32px;padding-bottom:24px;background-color:transparent;">
            <h1>Run the model</h1>
            <p> Modify model inputs to see the change in the results.</p>
        </div>

        <div id="ioDiv">

            <% if (dashbDiagram) { %>
                <div class="diagramDiv collapse container" id="diagram">
                    <img src="<%= dashbDiagram %>">
                </div>
            <% } %>

            <div class="slidersDiv container">
                <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 row-cols-lg-6 d-flex justify-content-around">
                <div class="col d-flex align-items-stretch"><div class="sliderGroup d-flex align-items-start flex-column justify-content-center"><label for="growth rate a" class="mb-auto mx-auto"><strong>growth rate a</strong></label><div class="io-slider-box mx-auto" name="growth rate a">0.01</div><input class="io-slider-slide mx-auto" type="range" name="growth rate a" min="-0.05" max="0.05" value="0.01" step="0.001"></div></div><div class="col d-flex align-items-stretch"><div class="sliderGroup d-flex align-items-start flex-column justify-content-center"><label for="initial stock a" class="mb-auto mx-auto"><strong>initial stock a</strong></label><div class="io-slider-box mx-auto" name="initial stock a">100</div><input class="io-slider-slide mx-auto" type="range" name="initial stock a" min="-100" max="200" value="100" step="10"></div></div><div class="col d-flex align-items-stretch"><div class="sliderGroup d-flex align-items-start flex-column justify-content-center"><label for="growth rate b" class="mb-auto mx-auto"><strong>growth rate b</strong></label><div class="io-slider-box mx-auto" name="growth rate b">0.015</div><input class="io-slider-slide mx-auto" type="range" name="growth rate b" min="-0.05" max="0.05" value="0.015" step="0.001"></div></div><div class="col d-flex align-items-stretch"><div class="sliderGroup d-flex align-items-start flex-column justify-content-center"><label for="initial stock b" class="mb-auto mx-auto"><strong>initial stock b</strong></label><div class="io-slider-box mx-auto" name="initial stock b">200</div><input class="io-slider-slide mx-auto" type="range" name="initial stock b" min="0" max="400" value="200" step="10"></div></div><div class="col d-flex align-items-stretch"><div class="sliderGroup d-flex align-items-start flex-column justify-content-center"><label for="growth rate c" class="mb-auto mx-auto"><strong>growth rate c</strong></label><div class="io-slider-box mx-auto" name="growth rate c">0.025</div><input class="io-slider-slide mx-auto" type="range" name="growth rate c" min="-0.05" max="0.05" value="0.025" step="0.001"></div></div><div class="col d-flex align-items-stretch"><div class="sliderGroup d-flex align-items-start flex-column justify-content-center"><label for="initial stock c" class="mb-auto mx-auto"><strong>initial stock c</strong></label><div class="io-slider-box mx-auto" name="initial stock c">50</div><input class="io-slider-slide mx-auto" type="range" name="initial stock c" min="-200" max="500" value="50" step="10"></div></div><div class="col d-flex align-items-stretch"><div class="sliderGroup d-flex align-items-start flex-column justify-content-center"><label for="initial stock x" class="mb-auto mx-auto"><strong>initial stock x</strong></label><div class="io-slider-box mx-auto" name="initial stock x">100</div><input class="io-slider-slide mx-auto" type="range" name="initial stock x" min="-100" max="300" value="100" step="10"></div></div><div class="col d-flex align-items-stretch"><div class="sliderGroup d-flex align-items-start flex-column justify-content-center"><label for="growth rate y" class="mb-auto mx-auto"><strong>growth rate y</strong></label><div class="io-slider-box mx-auto" name="growth rate y">0.015</div><input class="io-slider-slide mx-auto" type="range" name="growth rate y" min="-0.05" max="0.05" value="0.015" step="0.001"></div></div><div class="col d-flex align-items-stretch"><div class="sliderGroup d-flex align-items-start flex-column justify-content-center"><label for="initial stock y" class="mb-auto mx-auto"><strong>initial stock y</strong></label><div class="io-slider-box mx-auto" name="initial stock y">120</div><input class="io-slider-slide mx-auto" type="range" name="initial stock y" min="-300" max="200" value="120" step="10"></div></div><div class="col d-flex align-items-stretch"><div class="sliderGroup d-flex align-items-start flex-column justify-content-center"><label for="growth rate z" class="mb-auto mx-auto"><strong>growth rate z</strong></label><div class="io-slider-box mx-auto" name="growth rate z">0</div><input class="io-slider-slide mx-auto" type="range" name="growth rate z" min="-0.05" max="0.05" value="0" step="0.001"></div></div><div class="col d-flex align-items-stretch"><div class="sliderGroup d-flex align-items-start flex-column justify-content-center"><label for="initial stock z" class="mb-auto mx-auto"><strong>initial stock z</strong></label><div class="io-slider-box mx-auto" name="initial stock z">80</div><input class="io-slider-slide mx-auto" type="range" name="initial stock z" min="0" max="500" value="80" step="10"></div></div><div class="col d-flex align-items-stretch"><div class="sliderGroup d-flex align-items-start flex-column justify-content-center"><label for="i factor" class="mb-auto mx-auto"><strong>i factor</strong></label><div class="io-slider-box mx-auto" name="i factor">1</div><input class="io-slider-slide mx-auto" type="range" name="i factor" min="0" max="10" value="1" step="0.2"></div></div><div class="col d-flex align-items-stretch"><div class="sliderGroup d-flex align-items-start flex-column justify-content-center"><label for="growth rate x" class="mb-auto mx-auto"><strong>growth rate x</strong></label><div class="io-slider-box mx-auto" name="growth rate x">0.01</div><input class="io-slider-slide mx-auto" type="range" name="growth rate x" min="-0.05" max="0.05" value="0.01" step="0.001"></div></div><div class="col d-flex align-items-stretch"><div class="sliderGroup d-flex align-items-start flex-column justify-content-center"><label for="u reference" class="mb-auto mx-auto"><strong>u reference</strong></label><div class="io-slider-box mx-auto" name="u reference">100</div><input class="io-slider-slide mx-auto" type="range" name="u reference" min="50" max="500" value="100" step="10"></div></div><div class="col d-flex align-items-stretch"><div class="sliderGroup d-flex align-items-start flex-column justify-content-center"><label for="ref stock" class="mb-auto mx-auto"><strong>ref stock</strong></label><div class="io-slider-box mx-auto" name="ref stock">50</div><input class="io-slider-slide mx-auto" type="range" name="ref stock" min="-500" max="500" value="50" step="50"></div></div><div class="col d-flex align-items-stretch"><div class="sliderGroup d-flex align-items-start flex-column justify-content-center"><label for="g factor" class="mb-auto mx-auto"><strong>g factor</strong></label><div class="io-slider-box mx-auto" name="g factor">50</div><input class="io-slider-slide mx-auto" type="range" name="g factor" min="0" max="50" value="50" step="0.0001"></div></div><div class="col d-flex align-items-stretch"><div class="sliderGroup d-flex align-items-start flex-column justify-content-center"><label for="test without min" class="mb-auto mx-auto"><strong>test without min</strong></label><div class="io-slider-box mx-auto" name="test without min">1</div><input class="io-slider-slide mx-auto" type="range" name="test without min" min="-1" max="5" value="1" step="0.1"></div></div><div class="col d-flex align-items-stretch"><div class="sliderGroup d-flex align-items-start flex-column justify-content-center"><label for="test without max" class="mb-auto mx-auto"><strong>test without max</strong></label><div class="io-slider-box mx-auto" name="test without max">1</div><input class="io-slider-slide mx-auto" type="range" name="test without max" min="0" max="2" value="1" step="1"></div></div><div class="col d-flex align-items-stretch"><div class="sliderGroup d-flex align-items-start flex-column justify-content-center"><label for="test without unit" class="mb-auto mx-auto"><strong>test without unit</strong></label><div class="io-slider-box mx-auto" name="test without unit">0.5</div><input class="io-slider-slide mx-auto" type="range" name="test without unit" min="0" max="1" value="0.5" step="0.1"></div></div><div class="col d-flex align-items-stretch"><div class="sliderGroup d-flex align-items-start flex-column justify-content-center"><label for="" class="mb-auto mx-auto"><strong></strong></label><div class="io-slider-box mx-auto" name="">2</div><input class="io-slider-slide mx-auto" type="range" name="" test="" min="0" max="10" value="2" step="1"></div></div></div>
            </div>

            <div class="container"><hr></div>

            <div class="chartsDiv container">
                <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 d-flex justify-content-around">
                <div class="col"><div class="io-chart" name="stock abc[a,x3]" varname="stock abc[a,x3]" xaxisname="Month" yaxisname="u"></div></div><div class="col"><div class="io-chart" name="stock abc[a,x4]" varname="stock abc[a,x4]" xaxisname="Month" yaxisname="u"></div></div><div class="col"><div class="io-chart" name="stock abc[a,x1]" varname="stock abc[a,x1]" xaxisname="Month" yaxisname="u"></div></div><div class="col"><div class="io-chart" name="stock abc[a,x5]" varname="stock abc[a,x5]" xaxisname="Month" yaxisname="u"></div></div><div class="col"><div class="io-chart" name="stock abc[a,x2]" varname="stock abc[a,x2]" xaxisname="Month" yaxisname="u"></div></div><div class="col"><div class="io-chart" name="stock abc[b,x3]" varname="stock abc[b,x3]" xaxisname="Month" yaxisname="u"></div></div><div class="col"><div class="io-chart" name="stock abc[b,x4]" varname="stock abc[b,x4]" xaxisname="Month" yaxisname="u"></div></div><div class="col"><div class="io-chart" name="stock abc[b,x5]" varname="stock abc[b,x5]" xaxisname="Month" yaxisname="u"></div></div><div class="col"><div class="io-chart" name="stock abc[b,x1]" varname="stock abc[b,x1]" xaxisname="Month" yaxisname="u"></div></div><div class="col"><div class="io-chart" name="stock abc[b,x2]" varname="stock abc[b,x2]" xaxisname="Month" yaxisname="u"></div></div><div class="col"><div class="io-chart" name="stock abc[c,x3]" varname="stock abc[c,x3]" xaxisname="Month" yaxisname="u"></div></div><div class="col"><div class="io-chart" name="stock abc[c,x4]" varname="stock abc[c,x4]" xaxisname="Month" yaxisname="u"></div></div><div class="col"><div class="io-chart" name="stock abc[c,x5]" varname="stock abc[c,x5]" xaxisname="Month" yaxisname="u"></div></div><div class="col"><div class="io-chart" name="stock abc[c,x1]" varname="stock abc[c,x1]" xaxisname="Month" yaxisname="u"></div></div><div class="col"><div class="io-chart" name="stock abc[c,x2]" varname="stock abc[c,x2]" xaxisname="Month" yaxisname="u"></div></div></div>
            </div>

        </div>
    </div>

</div>


<!-- SLIDERS ACTIVATION -->
<script type="text/javascript" src="/js/vensim/sliders.js"></script>
<script type="text/javascript" src="/js/vensim/compress.js"></script>

<%- include("partials/footer") %> 